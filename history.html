<html>
<head>
  <title>Riwayat Belanja</title>
  <link rel="stylesheet" href="layout.css">
  <link rel="stylesheet" href="history.css">
</head>
<body>
  <center>
    <h1>ðŸ“œ Riwayat Pembelian</h1>
    <p>Berikut adalah daftar history pembelianmu:</p>
  </center>

  <table id="historyTable" border="1" align="center" cellpadding="10" cellspacing="0" bordercolor="gray">
    <tr>
      <th>No</th>
      <th>Nama Produk</th>
      <th>Jumlah</th>
      <th>Harga</th>
      <th>Total</th>
      <th>Tanggal</th>
    </tr>
  </table>

  <hr>
  <div align="center">
    <a href="index.html">â¬… Kembali ke Produk</a>
  </div>

  <script>
    function loadHistory() {
      let history = JSON.parse(localStorage.getItem("history")) || [];
      let table = document.getElementById("historyTable");

      history.forEach((item, index) => {
        let row = table.insertRow();
        row.insertCell(0).innerText = index + 1;
        row.insertCell(1).innerText = item.nama;
        row.insertCell(2).innerText = item.jumlah;
        row.insertCell(3).innerText = item.harga;
        row.insertCell(4).innerText = "Rp. " + item.total.toLocaleString();
        row.insertCell(5).innerText = item.tanggal;
      });

      // Update badge count di pojok kanan atas
      document.getElementById("historyCount").innerText = history.length;
    }
    loadHistory();
  </script>

  <!-- Badge history -->
  <div style="position:fixed; top:10px; right:80px; font-size:20px;">
    <a href="history.html" style="text-decoration:none; color:black;">
      ðŸ“œ <span id="historyCount">0</span>
    </a>
  </div>
</body>
</html>
